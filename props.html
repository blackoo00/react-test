<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<script src="./js/react-0.13.4.min.js"></script>
	<script src="./js/react-dom-0.14.0.js"></script>
	<script src="./js/browser.min.js"></script>
</head>
<body>
	<div id="app"></div>
	<script type="text/babel">
		var MessageBox = React.createClass({
			getInitialState:function(){
				return{
					isVisible:true,
					subMessage:[
						'我会代码搬砖',
						'以及花式板状',
						'不说了，工头叫我回去板状了......',
					]
				}
			},
			render:function(){
				return ( 
					<div>
						<h1>{this.props.title}</h1> 
						<Submessage messages={this.state.subMessage}/>
					</div>
				)
			}
		});

		var Submessage = React.createClass({
			propType:{
				message: React.PropTypes.array.isRequired,
			},
			getDefaultProps:function(){
				return {
					messages: ['默认的子消息'],
				}
			},
			render:function(){
				var msgs = [];
				this.props.messages.forEach(function(msg,index){
					msgs.push(
						<p>码农说：{msg}</p>
					)
				})
				return (
					<div>
						{msgs}
					</div>
				)
			}
		});

		var Footer = React.createClass({
			render:function(){
				return(
					<small>因为我们在用代码创造</small>
				)
			}
		})
		//暴露出来供console操作
		var title = '你好世界(来自state哦)';
		var messageBox = React.render(<MessageBox title={title}/>, 
			document.getElementById('app'),
			function(){
				console.log('渲染完成啦！！');
			}
		)
	</script>
</body>
</html>